<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <!-- CSS files -->
        <link rel="stylesheet" href="./lib/css/bootstrap/css/bootstrap.min.css">
        <link rel="stylesheet" href="style.css">
        <title>Instagram Feed Mc</title>
    </head>
    <body >
<link href="https://fonts.googleapis.com/css?family=Roboto:300:400:700" rel="stylesheet">
<div id="app" class="cards clearfix">


</div>
        <script src="./js/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.18.0/axios.min.js"></script>
	      <script src="./js/switchboard.js"></script>
        <script src="./js/sb.min.js"></script>
        <script src="./js/vue.js"></script>
        <script src="./js/app.js"></script>
	<script>

	function random(min, max){
  return Math.floor(Math.random()*(max-min+1)+min);
}

function getTitle(){
  var a = ['Lorem', 'Ipsum', 'Dolor', 'Sit', 'Amet', 'Dolorium'];
  var b = random(2, 6);
  var c = '';

  for(var i = 0; i < b; i++){
    c += a[i] + ' ';
  }

  return c;
}

function getBody(){
  var a = 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer iaculis, ligula eget molestie suscipit, ipsum libero convallis elit, a cursus enim metus nec enim.';
  var b = random(80, 160);
  var c = a.substr(0, b);
  var d = c.substr(0, Math.min(c.length, c.lastIndexOf(" ")));

  return d;
}

/*get hasthags posts*/
const Http = new XMLHttpRequest();
const url='https://www.instagram.com/explore/tags/mcguate/?__a=1';
var publicaciones;
Http.open("GET", url);
Http.send();
Http.onreadystatechange=(e)=>{

publicaciones = JSON.parse(Http.responseText)
console.log(publicaciones["graphql"]["hashtag"]["edge_hashtag_to_media"]["edges"])
publicaciones = publicaciones["graphql"]["hashtag"]["edge_hashtag_to_media"]["edges"]

for(var i = 0; i < publicaciones.length; i++){
  console.log(publicaciones[i]["node"]["display_url"])
  $('#app').append(`
  <div class="col-4">
  <div class="card">
    <div class="top" style="padding-bottom=100%">
      <img src=`+publicaciones[i]["node"]["display_url"]+`>
    </div>
    <div class="bottom">
      <h2>username</h2>
      <p>caption</p>
    </div>
    </div>
  </div>`);
}

}




for(var i = 0; i < 10; i++){
  for(var j = 1; j < 4; j++){
    var randomImageHeight = random(240, 340);
    var relation = 280/randomImageHeight;
    var padding = 100/relation;

    /*$('.card-col-'+j).append(`
    <div class="col-4"
    <div class="card">
      <div class="top" style="padding-bottom: ${padding}%">
        <img src="https://www.unsplash.it/280/${randomImageHeight}/?random&sig=${Math.random()}">
      </div>
      <div class="bottom">
        <h2>${getTitle()}</h2>
        <p>${getBody()}</p>
      </div>
      </div>
    </div>`);*/
  }
}

	</script>
    </body>
    </body>
</html>
